{"ast":null,"code":"\"use strict\";\n\nvar objectAssign = require('object-assign');\n\nmodule.exports = function (blocks) {\n  return blocks.map(function (block) {\n    if (block._key) {\n      return block;\n    }\n\n    return objectAssign({\n      _key: getStaticKey(block)\n    }, block);\n  });\n};\n\nfunction getStaticKey(item) {\n  return checksum(JSON.stringify(item)).toString(36).replace(/[^A-Za-z0-9]/g, '');\n}\n/* eslint-disable no-bitwise */\n\n\nfunction checksum(str) {\n  var hash = 0;\n  var strlen = str.length;\n\n  if (strlen === 0) {\n    return hash;\n  }\n\n  for (var i = 0; i < strlen; i++) {\n    hash = (hash << 5) - hash + str.charCodeAt(i);\n    hash &= hash; // Convert to 32bit integer\n  }\n\n  return hash;\n}\n/* eslint-enable no-bitwise */","map":{"version":3,"sources":["../src/generateKeys.js"],"names":["objectAssign","require","module","block","_key","getStaticKey","checksum","JSON","hash","strlen","str","i"],"mappings":";;AAAA,IAAMA,YAAY,GAAGC,OAAO,CAA5B,eAA4B,CAA5B;;AAEAC,MAAM,CAANA,OAAAA,GAAiB,UAAA,MAAA,EAAU;AACzB,SAAO,MAAM,CAAN,GAAA,CAAW,UAAA,KAAA,EAAS;AACzB,QAAIC,KAAK,CAAT,IAAA,EAAgB;AACd,aAAA,KAAA;AACD;;AAED,WAAOH,YAAY,CAAC;AAACI,MAAAA,IAAI,EAAEC,YAAY,CAAA,KAAA;AAAnB,KAAD,EAAnB,KAAmB,CAAnB;AALF,GAAO,CAAP;AADFH,CAAAA;;AAUA,SAAA,YAAA,CAAA,IAAA,EAA4B;AAC1B,SAAOI,QAAQ,CAACC,IAAI,CAAJA,SAAAA,CAATD,IAASC,CAAD,CAARD,CAAAA,QAAAA,CAAAA,EAAAA,EAAAA,OAAAA,CAAAA,eAAAA,EAAP,EAAOA,CAAP;AAGD;AAED;;;AACA,SAAA,QAAA,CAAA,GAAA,EAAuB;AACrB,MAAIE,IAAI,GAAR,CAAA;AACA,MAAMC,MAAM,GAAGC,GAAG,CAAlB,MAAA;;AACA,MAAID,MAAM,KAAV,CAAA,EAAkB;AAChB,WAAA,IAAA;AACD;;AAED,OAAK,IAAIE,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAjB,MAAA,EAA4BA,CAA5B,EAAA,EAAiC;AAC/BH,IAAAA,IAAI,GAAG,CAACA,IAAI,IAAL,CAAA,IAAA,IAAA,GAAqBE,GAAG,CAAHA,UAAAA,CAA5BF,CAA4BE,CAA5BF;AACAA,IAAAA,IAAI,IAF2B,IAE/BA,CAF+B,CAElB;AACd;;AAED,SAAA,IAAA;AACD;AACD","sourcesContent":["const objectAssign = require('object-assign')\n\nmodule.exports = blocks => {\n  return blocks.map(block => {\n    if (block._key) {\n      return block\n    }\n\n    return objectAssign({_key: getStaticKey(block)}, block)\n  })\n}\n\nfunction getStaticKey(item) {\n  return checksum(JSON.stringify(item))\n    .toString(36)\n    .replace(/[^A-Za-z0-9]/g, '')\n}\n\n/* eslint-disable no-bitwise */\nfunction checksum(str) {\n  let hash = 0\n  const strlen = str.length\n  if (strlen === 0) {\n    return hash\n  }\n\n  for (let i = 0; i < strlen; i++) {\n    hash = (hash << 5) - hash + str.charCodeAt(i)\n    hash &= hash // Convert to 32bit integer\n  }\n\n  return hash\n}\n/* eslint-enable no-bitwise */\n"]},"metadata":{},"sourceType":"script"}