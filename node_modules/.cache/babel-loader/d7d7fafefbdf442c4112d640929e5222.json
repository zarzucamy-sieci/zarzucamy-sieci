{"ast":null,"code":"import _slicedToArray from\"/Users/bartlomiejkisiel/Downloads/zarzucamy-sieci-master-3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import sanityClient from\"../client.js\";import BlockContent from\"@sanity/block-content-to-react\";import imageUrlBuilder from\"@sanity/image-url\";import{Helmet}from\"react-helmet\";var builder=imageUrlBuilder(sanityClient);function urlFor(source){return builder.image(source);}export default function OnePost(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),postData=_useState2[0],setPostData=_useState2[1];var _useParams=useParams(),slug=_useParams.slug;useEffect(function(){sanityClient.fetch(\"*[slug.current == \\\"\".concat(slug,\"\\\"]{\\n            title,\\n            slug,\\n            publishedAt,\\n            mainImage{\\n              asset->{\\n                _id,\\n                url\\n              }\\n            },\\n            body,\\n            \\\"name\\\": author->name,\\n            \\\"authorImage\\\": author->image\\n          }\")).then(function(data){return setPostData(data[0]);}).catch(console.error);},[slug]);if(!postData)return/*#__PURE__*/React.createElement(\"div\",null,\"\\u0141adowanie...\");/*if(sessionStorage.getItem(\"is_reloaded\")) {\n    window.location.replace(\"http://localhost:3000/\" + slug);\n  }\n    sessionStorage.setItem(\"is_reloaded\", true) */checkFirstValue();function checkFirstValue(){if(document.cookie.indexOf('mycookie')==-1){document.cookie=\"mycookie=1\";}else{//window.location.replace(\"http://localhost:3000/\" + slug);\nconsole.log(\"good\");}}return/*#__PURE__*/React.createElement(\"body\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"bg-gray-200 min-h-screen p-9\"},/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,\"Zarzucamy Sieci\")),/*#__PURE__*/React.createElement(\"div\",{className:\"container shadow-lg mx-auto bg-green-100 rounded-lg\"},/*#__PURE__*/React.createElement(\"div\",{className:\"relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"absolute h-full w-full flex items-center justify-center p-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bg-white bg-opacity-75 rounded p-12\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"cursive text-3xl lg:text-6xl mb-4\"},postData.title),/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-center text-gray-800\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"cursive flex items-center pl-2 text-2xl\"},\"Autor: \",postData.name)))),/*#__PURE__*/React.createElement(\"img\",{className:\"w-full object-cover rounded-t\",src:urlFor(postData.mainImage).url(),alt:\"\",style:{height:\"400px\"}})),/*#__PURE__*/React.createElement(\"div\",{className:\"px-10 lg:px-48 py-12 lg:py-20 prose lg:prose-xl max-w-full\"},/*#__PURE__*/React.createElement(BlockContent,{blocks:postData.body,projectId:sanityClient.clientConfig.projectId,dataset:sanityClient.clientConfig.dataset})))));}","map":{"version":3,"sources":["/Users/bartlomiejkisiel/Downloads/zarzucamy-sieci-master-3/src/components/OnePost.js"],"names":["React","useEffect","useState","useParams","sanityClient","BlockContent","imageUrlBuilder","Helmet","builder","urlFor","source","image","OnePost","postData","setPostData","slug","fetch","then","data","catch","console","error","checkFirstValue","document","cookie","indexOf","log","title","name","mainImage","url","height","body","clientConfig","projectId","dataset"],"mappings":"iLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,cAAzB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,OAASC,MAAT,KAAuB,cAAvB,CAEA,GAAMC,CAAAA,OAAO,CAAGF,eAAe,CAACF,YAAD,CAA/B,CACA,QAASK,CAAAA,MAAT,CAAgBC,MAAhB,CAAwB,CACtB,MAAOF,CAAAA,OAAO,CAACG,KAAR,CAAcD,MAAd,CAAP,CACD,CAED,cAAe,SAASE,CAAAA,OAAT,EAAmB,eACAV,QAAQ,CAAC,IAAD,CADR,wCACzBW,QADyB,eACfC,WADe,8BAEfX,SAAS,EAFM,CAExBY,IAFwB,YAExBA,IAFwB,CAIhCd,SAAS,CAAC,UAAM,CACdG,YAAY,CACTY,KADH,+BAE0BD,IAF1B,wTAiBGE,IAjBH,CAiBQ,SAACC,IAAD,QAAUJ,CAAAA,WAAW,CAACI,IAAI,CAAC,CAAD,CAAL,CAArB,EAjBR,EAkBGC,KAlBH,CAkBSC,OAAO,CAACC,KAlBjB,EAmBD,CApBQ,CAoBN,CAACN,IAAD,CApBM,CAAT,CAsBA,GAAI,CAACF,QAAL,CAAe,mBAAO,mDAAP,CACf;AACF;AACA;AACA,kDACIS,eAAe,GACnB,QAASA,CAAAA,eAAT,EAA2B,CACzB,GAAGC,QAAQ,CAACC,MAAT,CAAgBC,OAAhB,CAAwB,UAAxB,GAAqC,CAAC,CAAzC,CAA4C,CAC1CF,QAAQ,CAACC,MAAT,CAAkB,YAAlB,CACD,CAFD,IAGK,CACH;AACAJ,OAAO,CAACM,GAAR,CAAY,MAAZ,EACD,CACF,CAEC,mBACE,6CACA,2BAAK,SAAS,CAAC,8BAAf,eACE,oBAAC,MAAD,mBACI,mDADJ,CADF,cAIE,2BAAK,SAAS,CAAC,qDAAf,eACE,2BAAK,SAAS,CAAC,UAAf,eACE,2BAAK,SAAS,CAAC,6DAAf,eAEE,2BAAK,SAAS,CAAC,qCAAf,eACE,0BAAI,SAAS,CAAC,mCAAd,EACGb,QAAQ,CAACc,KADZ,CADF,cAIE,2BAAK,SAAS,CAAC,mCAAf,eAME,0BAAI,SAAS,CAAC,yCAAd,YAAgEd,QAAQ,CAACe,IAAzE,CANF,CAJF,CAFF,CADF,cAqBE,2BACE,SAAS,CAAC,+BADZ,CAEE,GAAG,CAAEnB,MAAM,CAACI,QAAQ,CAACgB,SAAV,CAAN,CAA2BC,GAA3B,EAFP,CAGE,GAAG,CAAC,EAHN,CAIE,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAV,CAJT,EArBF,CADF,cA6BE,2BAAK,SAAS,CAAC,4DAAf,eACE,oBAAC,YAAD,EACE,MAAM,CAAElB,QAAQ,CAACmB,IADnB,CAEE,SAAS,CAAE5B,YAAY,CAAC6B,YAAb,CAA0BC,SAFvC,CAGE,OAAO,CAAE9B,YAAY,CAAC6B,YAAb,CAA0BE,OAHrC,EADF,CA7BF,CAJF,CADA,CADF,CA8CD","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport sanityClient from \"../client.js\";\nimport BlockContent from \"@sanity/block-content-to-react\";\nimport imageUrlBuilder from \"@sanity/image-url\";\nimport { Helmet } from \"react-helmet\";\n\nconst builder = imageUrlBuilder(sanityClient);\nfunction urlFor(source) {\n  return builder.image(source);\n}\n\nexport default function OnePost() {\n  const [postData, setPostData] = useState(null);\n  const { slug } = useParams();\n\n  useEffect(() => {\n    sanityClient\n      .fetch(\n        `*[slug.current == \"${slug}\"]{\n            title,\n            slug,\n            publishedAt,\n            mainImage{\n              asset->{\n                _id,\n                url\n              }\n            },\n            body,\n            \"name\": author->name,\n            \"authorImage\": author->image\n          }`\n      )\n      .then((data) => setPostData(data[0]))\n      .catch(console.error);\n  }, [slug]);\n\n  if (!postData) return <div>≈Åadowanie...</div>;\n  /*if(sessionStorage.getItem(\"is_reloaded\")) {\n    window.location.replace(\"http://localhost:3000/\" + slug);\n  }\n    sessionStorage.setItem(\"is_reloaded\", true) */\n    checkFirstValue();\nfunction checkFirstValue() {\n  if(document.cookie.indexOf('mycookie')==-1) {\n    document.cookie = \"mycookie=1\";\n  }\n  else {\n    //window.location.replace(\"http://localhost:3000/\" + slug);\n    console.log(\"good\");\n  }\n}\n\n  return (\n    <body>\n    <div className=\"bg-gray-200 min-h-screen p-9\">\n      <Helmet>\n          <title>Zarzucamy Sieci</title>\n      </Helmet>\n      <div className=\"container shadow-lg mx-auto bg-green-100 rounded-lg\">\n        <div className=\"relative\">\n          <div className=\"absolute h-full w-full flex items-center justify-center p-8\">\n            {/* Title Section */}\n            <div className=\"bg-white bg-opacity-75 rounded p-12\">\n              <h2 className=\"cursive text-3xl lg:text-6xl mb-4\">\n                {postData.title}\n              </h2>\n              <div className=\"flex justify-center text-gray-800\">\n                {/*<img\n                  src={urlFor(postData.authorImage).url()}\n                  className=\"w-10 h-10 rounded-full\"\n                  alt=\"Autor:\"\n                />*/}\n                <h4 className=\"cursive flex items-center pl-2 text-2xl\">Autor: {postData.name}</h4>\n\n                {/* <h4 className=\"cursive flex items-center pl-2 text-2xl\">\n                  {postData.name}\n                </h4> */}\n              </div>\n            </div>\n          </div>\n          <img\n            className=\"w-full object-cover rounded-t\"\n            src={urlFor(postData.mainImage).url()}\n            alt=\"\"\n            style={{ height: \"400px\" }}\n          />\n        </div>\n        <div className=\"px-10 lg:px-48 py-12 lg:py-20 prose lg:prose-xl max-w-full\">\n          <BlockContent\n            blocks={postData.body}\n            projectId={sanityClient.clientConfig.projectId}\n            dataset={sanityClient.clientConfig.dataset}\n          />\n        </div>\n      </div>\n    </div>\n    </body>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}