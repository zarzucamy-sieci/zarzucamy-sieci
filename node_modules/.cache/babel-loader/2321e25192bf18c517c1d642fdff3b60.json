{"ast":null,"code":"var _jsxFileName = \"/Users/bartlomiejkisiel/Downloads/zarzucamy-sieci-master-3/src/components/OnePost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport sanityClient from \"../client.js\";\nimport BlockContent from \"@sanity/block-content-to-react\";\nimport imageUrlBuilder from \"@sanity/image-url\";\nimport { Helmet } from \"react-helmet\";\nconst builder = imageUrlBuilder(sanityClient);\n\nfunction urlFor(source) {\n  return builder.image(source);\n}\n\nexport default function OnePost() {\n  _s();\n\n  const [postData, setPostData] = useState(null);\n  const {\n    slug\n  } = useParams();\n  useEffect(() => {\n    sanityClient.fetch(`*[slug.current == \"${slug}\"]{\n            title,\n            slug,\n            publishedAt,\n            mainImage{\n              asset->{\n                _id,\n                url\n              }\n            },\n            body,\n            \"name\": author->name,\n            \"authorImage\": author->image\n          }`).then(data => setPostData(data[0])).catch(console.error);\n  }, [slug]);\n  if (!postData) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 25\n    }\n  }, \"\\u0141adowanie...\");\n  /*if(sessionStorage.getItem(\"is_reloaded\")) {\n    window.location.replace(\"http://localhost:3000/\" + slug);\n  }\n    sessionStorage.setItem(\"is_reloaded\", true) */\n\n  checkFirstValue();\n\n  function checkFirstValue() {\n    if (document.cookie.indexOf('mycookie') == -1) {\n      document.cookie = \"mycookie=1\";\n    } else {\n      //window.location.replace(\"http://localhost:3000/\" + slug);\n      console.log(\"good\");\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"body\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-gray-200 min-h-screen p-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"Zarzucamy Sieci\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container shadow-lg mx-auto bg-green-100 rounded-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"absolute h-full w-full flex items-center justify-center p-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white bg-opacity-75 rounded p-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"cursive text-3xl lg:text-6xl mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, postData.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center text-gray-800\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"cursive flex items-center pl-2 text-2xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"Autor: \", postData.name)))), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"w-full object-cover rounded-t\",\n    src: urlFor(postData.mainImage).url(),\n    alt: \"\",\n    style: {\n      height: \"400px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-50 lg:px-48 py-12 lg:py-20 prose lg:prose-xl max-w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(BlockContent, {\n    blocks: postData.body,\n    projectId: sanityClient.clientConfig.projectId,\n    dataset: sanityClient.clientConfig.dataset,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  })))));\n}\n\n_s(OnePost, \"LT2FpeEDjRt/mFsJ6Xl7JgbHXFo=\", false, function () {\n  return [useParams];\n});\n\n_c = OnePost;\n\nvar _c;\n\n$RefreshReg$(_c, \"OnePost\");","map":{"version":3,"sources":["/Users/bartlomiejkisiel/Downloads/zarzucamy-sieci-master-3/src/components/OnePost.js"],"names":["React","useEffect","useState","useParams","sanityClient","BlockContent","imageUrlBuilder","Helmet","builder","urlFor","source","image","OnePost","postData","setPostData","slug","fetch","then","data","catch","console","error","checkFirstValue","document","cookie","indexOf","log","title","name","mainImage","url","height","body","clientConfig","projectId","dataset"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport sanityClient from \"../client.js\";\nimport BlockContent from \"@sanity/block-content-to-react\";\nimport imageUrlBuilder from \"@sanity/image-url\";\nimport { Helmet } from \"react-helmet\";\n\nconst builder = imageUrlBuilder(sanityClient);\nfunction urlFor(source) {\n  return builder.image(source);\n}\n\nexport default function OnePost() {\n  const [postData, setPostData] = useState(null);\n  const { slug } = useParams();\n\n  useEffect(() => {\n    sanityClient\n      .fetch(\n        `*[slug.current == \"${slug}\"]{\n            title,\n            slug,\n            publishedAt,\n            mainImage{\n              asset->{\n                _id,\n                url\n              }\n            },\n            body,\n            \"name\": author->name,\n            \"authorImage\": author->image\n          }`\n      )\n      .then((data) => setPostData(data[0]))\n      .catch(console.error);\n  }, [slug]);\n\n  if (!postData) return <div>≈Åadowanie...</div>;\n  /*if(sessionStorage.getItem(\"is_reloaded\")) {\n    window.location.replace(\"http://localhost:3000/\" + slug);\n  }\n    sessionStorage.setItem(\"is_reloaded\", true) */\n    checkFirstValue();\nfunction checkFirstValue() {\n  if(document.cookie.indexOf('mycookie')==-1) {\n    document.cookie = \"mycookie=1\";\n  }\n  else {\n    //window.location.replace(\"http://localhost:3000/\" + slug);\n    console.log(\"good\");\n  }\n}\n\n  return (\n    <body>\n    <div className=\"bg-gray-200 min-h-screen p-12\">\n      <Helmet>\n          <title>Zarzucamy Sieci</title>\n      </Helmet>\n      <div className=\"container shadow-lg mx-auto bg-green-100 rounded-lg\">\n        <div className=\"relative\">\n          <div className=\"absolute h-full w-full flex items-center justify-center p-8\">\n            {/* Title Section */}\n            <div className=\"bg-white bg-opacity-75 rounded p-12\">\n              <h2 className=\"cursive text-3xl lg:text-6xl mb-4\">\n                {postData.title}\n              </h2>\n              <div className=\"flex justify-center text-gray-800\">\n                {/*<img\n                  src={urlFor(postData.authorImage).url()}\n                  className=\"w-10 h-10 rounded-full\"\n                  alt=\"Autor:\"\n                />*/}\n                <h4 className=\"cursive flex items-center pl-2 text-2xl\">Autor: {postData.name}</h4>\n\n                {/* <h4 className=\"cursive flex items-center pl-2 text-2xl\">\n                  {postData.name}\n                </h4> */}\n              </div>\n            </div>\n          </div>\n          <img\n            className=\"w-full object-cover rounded-t\"\n            src={urlFor(postData.mainImage).url()}\n            alt=\"\"\n            style={{ height: \"400px\" }}\n          />\n        </div>\n        <div className=\"px-50 lg:px-48 py-12 lg:py-20 prose lg:prose-xl max-w-full\">\n          <BlockContent\n            blocks={postData.body}\n            projectId={sanityClient.clientConfig.projectId}\n            dataset={sanityClient.clientConfig.dataset}\n          />\n        </div>\n      </div>\n    </div>\n    </body>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}