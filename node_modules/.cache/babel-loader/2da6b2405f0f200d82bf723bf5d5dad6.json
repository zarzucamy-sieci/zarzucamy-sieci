{"ast":null,"code":"import _slicedToArray from\"/home/enth/Documents/Informatyka/Zarzucamy Sieci/create-react-app-blog-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import sanityClient from\"../client.js\";import BlockContent from\"@sanity/block-content-to-react\";import imageUrlBuilder from\"@sanity/image-url\";var builder=imageUrlBuilder(sanityClient);function urlFor(source){return builder.image(source);}export default function OnePost(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),postData=_useState2[0],setPostData=_useState2[1];var _useParams=useParams(),slug=_useParams.slug;useEffect(function(){sanityClient.fetch(\"*[slug.current == \\\"\".concat(slug,\"\\\"]{\\n            title,\\n            slug,\\n            mainImage{\\n              asset->{\\n                _id,\\n                url\\n              }\\n            },\\n            body,\\n            \\\"name\\\": author->name,\\n            \\\"authorImage\\\": author->image\\n          }\")).then(function(data){return setPostData(data[0]);}).catch(console.error);},[slug]);if(!postData)return/*#__PURE__*/React.createElement(\"div\",null,\"Loading...\");return/*#__PURE__*/React.createElement(\"div\",{className:\"bg-gray-200 min-h-screen p-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container shadow-lg mx-auto bg-green-100 rounded-lg\"},/*#__PURE__*/React.createElement(\"div\",{className:\"relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"absolute h-full w-full flex items-center justify-center p-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bg-white bg-opacity-75 rounded p-12\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"cursive text-3xl lg:text-6xl mb-4\"},postData.title),/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-center text-gray-800\"},/*#__PURE__*/React.createElement(\"img\",{src:urlFor(postData.authorImage).url(),className:\"w-10 h-10 rounded-full\",alt:\"Author is Kap\"}),/*#__PURE__*/React.createElement(\"h4\",{className:\"cursive flex items-center pl-2 text-2xl\"},postData.name)))),/*#__PURE__*/React.createElement(\"img\",{className:\"w-full object-cover rounded-t\",src:urlFor(postData.mainImage).url(),alt:\"\",style:{height:\"400px\"}})),/*#__PURE__*/React.createElement(\"div\",{className:\"px-16 lg:px-48 py-12 lg:py-20 prose lg:prose-xl max-w-full\"},/*#__PURE__*/React.createElement(BlockContent,{blocks:postData.body,projectId:sanityClient.clientConfig.projectId,dataset:sanityClient.clientConfig.dataset}))));}","map":{"version":3,"sources":["/home/enth/Documents/Informatyka/Zarzucamy Sieci/create-react-app-blog-master/src/components/OnePost.js"],"names":["React","useEffect","useState","useParams","sanityClient","BlockContent","imageUrlBuilder","builder","urlFor","source","image","OnePost","postData","setPostData","slug","fetch","then","data","catch","console","error","title","authorImage","url","name","mainImage","height","body","clientConfig","projectId","dataset"],"mappings":"oMAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,cAAzB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CAEA,GAAMC,CAAAA,OAAO,CAAGD,eAAe,CAACF,YAAD,CAA/B,CACA,QAASI,CAAAA,MAAT,CAAgBC,MAAhB,CAAwB,CACtB,MAAOF,CAAAA,OAAO,CAACG,KAAR,CAAcD,MAAd,CAAP,CACD,CAED,cAAe,SAASE,CAAAA,OAAT,EAAmB,eACAT,QAAQ,CAAC,IAAD,CADR,wCACzBU,QADyB,eACfC,WADe,8BAEfV,SAAS,EAFM,CAExBW,IAFwB,YAExBA,IAFwB,CAIhCb,SAAS,CAAC,UAAM,CACdG,YAAY,CACTW,KADH,+BAE0BD,IAF1B,8RAgBGE,IAhBH,CAgBQ,SAACC,IAAD,QAAUJ,CAAAA,WAAW,CAACI,IAAI,CAAC,CAAD,CAAL,CAArB,EAhBR,EAiBGC,KAjBH,CAiBSC,OAAO,CAACC,KAjBjB,EAkBD,CAnBQ,CAmBN,CAACN,IAAD,CAnBM,CAAT,CAqBA,GAAI,CAACF,QAAL,CAAe,mBAAO,4CAAP,CAEf,mBACE,2BAAK,SAAS,CAAC,+BAAf,eACE,2BAAK,SAAS,CAAC,qDAAf,eACE,2BAAK,SAAS,CAAC,UAAf,eACE,2BAAK,SAAS,CAAC,6DAAf,eAEE,2BAAK,SAAS,CAAC,qCAAf,eACE,0BAAI,SAAS,CAAC,mCAAd,EACGA,QAAQ,CAACS,KADZ,CADF,cAIE,2BAAK,SAAS,CAAC,mCAAf,eACE,2BACE,GAAG,CAAEb,MAAM,CAACI,QAAQ,CAACU,WAAV,CAAN,CAA6BC,GAA7B,EADP,CAEE,SAAS,CAAC,wBAFZ,CAGE,GAAG,CAAC,eAHN,EADF,cAME,0BAAI,SAAS,CAAC,yCAAd,EACGX,QAAQ,CAACY,IADZ,CANF,CAJF,CAFF,CADF,cAmBE,2BACE,SAAS,CAAC,+BADZ,CAEE,GAAG,CAAEhB,MAAM,CAACI,QAAQ,CAACa,SAAV,CAAN,CAA2BF,GAA3B,EAFP,CAGE,GAAG,CAAC,EAHN,CAIE,KAAK,CAAE,CAAEG,MAAM,CAAE,OAAV,CAJT,EAnBF,CADF,cA2BE,2BAAK,SAAS,CAAC,4DAAf,eACE,oBAAC,YAAD,EACE,MAAM,CAAEd,QAAQ,CAACe,IADnB,CAEE,SAAS,CAAEvB,YAAY,CAACwB,YAAb,CAA0BC,SAFvC,CAGE,OAAO,CAAEzB,YAAY,CAACwB,YAAb,CAA0BE,OAHrC,EADF,CA3BF,CADF,CADF,CAuCD","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport sanityClient from \"../client.js\";\nimport BlockContent from \"@sanity/block-content-to-react\";\nimport imageUrlBuilder from \"@sanity/image-url\";\n\nconst builder = imageUrlBuilder(sanityClient);\nfunction urlFor(source) {\n  return builder.image(source);\n}\n\nexport default function OnePost() {\n  const [postData, setPostData] = useState(null);\n  const { slug } = useParams();\n\n  useEffect(() => {\n    sanityClient\n      .fetch(\n        `*[slug.current == \"${slug}\"]{\n            title,\n            slug,\n            mainImage{\n              asset->{\n                _id,\n                url\n              }\n            },\n            body,\n            \"name\": author->name,\n            \"authorImage\": author->image\n          }`\n      )\n      .then((data) => setPostData(data[0]))\n      .catch(console.error);\n  }, [slug]);\n\n  if (!postData) return <div>Loading...</div>;\n\n  return (\n    <div className=\"bg-gray-200 min-h-screen p-12\">\n      <div className=\"container shadow-lg mx-auto bg-green-100 rounded-lg\">\n        <div className=\"relative\">\n          <div className=\"absolute h-full w-full flex items-center justify-center p-8\">\n            {/* Title Section */}\n            <div className=\"bg-white bg-opacity-75 rounded p-12\">\n              <h2 className=\"cursive text-3xl lg:text-6xl mb-4\">\n                {postData.title}\n              </h2>\n              <div className=\"flex justify-center text-gray-800\">\n                <img\n                  src={urlFor(postData.authorImage).url()}\n                  className=\"w-10 h-10 rounded-full\"\n                  alt=\"Author is Kap\"\n                />\n                <h4 className=\"cursive flex items-center pl-2 text-2xl\">\n                  {postData.name}\n                </h4>\n              </div>\n            </div>\n          </div>\n          <img\n            className=\"w-full object-cover rounded-t\"\n            src={urlFor(postData.mainImage).url()}\n            alt=\"\"\n            style={{ height: \"400px\" }}\n          />\n        </div>\n        <div className=\"px-16 lg:px-48 py-12 lg:py-20 prose lg:prose-xl max-w-full\">\n          <BlockContent\n            blocks={postData.body}\n            projectId={sanityClient.clientConfig.projectId}\n            dataset={sanityClient.clientConfig.dataset}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}