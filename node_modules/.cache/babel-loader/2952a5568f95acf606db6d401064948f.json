{"ast":null,"code":"\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar assign = require('object-assign');\n\nvar validate = require('./validators');\n\nvar once = require('./util/once');\n\nvar defaultCdnHost = 'apicdn.sanity.io';\nvar defaultConfig = {\n  apiHost: 'https://api.sanity.io',\n  useProjectHostname: true,\n  gradientMode: false,\n  isPromiseAPI: true\n};\nvar LOCALHOSTS = ['localhost', '127.0.0.1', '0.0.0.0'];\n\nvar isLocal = function isLocal(host) {\n  return LOCALHOSTS.indexOf(host) !== -1;\n}; // eslint-disable-next-line no-console\n\n\nvar createWarningPrinter = function createWarningPrinter(message) {\n  return once(function () {\n    return console.warn(message.join(' '));\n  });\n};\n\nvar printCdnWarning = createWarningPrinter(['You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and', \"cheaper. Think about it! For more info, see \".concat(generateHelpUrl('js-client-cdn-configuration'), \".\"), 'To hide this warning, please set the `useCdn` option to either `true` or `false` when creating', 'the client.']);\nvar printBrowserTokenWarning = createWarningPrinter(['You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.', \"See \".concat(generateHelpUrl('js-client-browser-token'), \" for more information and how to hide this warning.\")]);\nvar printCdnTokenWarning = createWarningPrinter(['You have set `useCdn` to `true` while also specifying a token. This is usually not what you', 'want. The CDN cannot be used with an authorization token, since private data cannot be cached.', \"See \".concat(generateHelpUrl('js-client-usecdn-token'), \" for more information.\")]);\nexports.defaultConfig = defaultConfig;\n\nexports.initConfig = function (config, prevConfig) {\n  var newConfig = assign({}, defaultConfig, prevConfig, config);\n  var gradientMode = newConfig.gradientMode;\n  var projectBased = !gradientMode && newConfig.useProjectHostname;\n\n  if (typeof Promise === 'undefined') {\n    var helpUrl = generateHelpUrl('js-client-promise-polyfill');\n    throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n  }\n\n  if (gradientMode && !newConfig.namespace) {\n    throw new Error('Configuration must contain `namespace` when running in gradient mode');\n  }\n\n  if (projectBased && !newConfig.projectId) {\n    throw new Error('Configuration must contain `projectId`');\n  }\n\n  var isBrowser = typeof window !== 'undefined' && window.location && window.location.hostname;\n  var isLocalhost = isBrowser && isLocal(window.location.hostname);\n\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    printBrowserTokenWarning();\n  } else if ((!isBrowser || isLocalhost) && newConfig.useCdn && newConfig.token) {\n    printCdnTokenWarning();\n  } else if (typeof newConfig.useCdn === 'undefined') {\n    printCdnWarning();\n  }\n\n  if (projectBased) {\n    validate.projectId(newConfig.projectId);\n  }\n\n  if (!gradientMode && newConfig.dataset) {\n    validate.dataset(newConfig.dataset, newConfig.gradientMode);\n  }\n\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n  newConfig.useCdn = Boolean(newConfig.useCdn) && !newConfig.token && !newConfig.withCredentials;\n\n  if (newConfig.gradientMode) {\n    newConfig.url = newConfig.apiHost;\n    newConfig.cdnUrl = newConfig.apiHost;\n  } else {\n    var hostParts = newConfig.apiHost.split('://', 2);\n    var protocol = hostParts[0];\n    var host = hostParts[1];\n    var cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n\n    if (newConfig.useProjectHostname) {\n      newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v1\");\n      newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v1\");\n    } else {\n      newConfig.url = \"\".concat(newConfig.apiHost, \"/v1\");\n      newConfig.cdnUrl = newConfig.url;\n    }\n  }\n\n  return newConfig;\n};","map":{"version":3,"sources":["/Users/bartlomiejkisiel/Downloads/zarzucamy-sieci-master-3/node_modules/@sanity/client/lib/config.js"],"names":["generateHelpUrl","require","assign","validate","once","defaultCdnHost","defaultConfig","apiHost","useProjectHostname","gradientMode","isPromiseAPI","LOCALHOSTS","isLocal","host","indexOf","createWarningPrinter","message","console","warn","join","printCdnWarning","concat","printBrowserTokenWarning","printCdnTokenWarning","exports","initConfig","config","prevConfig","newConfig","projectBased","Promise","helpUrl","Error","namespace","projectId","isBrowser","window","location","hostname","isLocalhost","token","ignoreBrowserTokenWarning","useCdn","dataset","isDefaultApi","Boolean","withCredentials","url","cdnUrl","hostParts","split","protocol","cdnHost"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar assign = require('object-assign');\n\nvar validate = require('./validators');\n\nvar once = require('./util/once');\n\nvar defaultCdnHost = 'apicdn.sanity.io';\nvar defaultConfig = {\n  apiHost: 'https://api.sanity.io',\n  useProjectHostname: true,\n  gradientMode: false,\n  isPromiseAPI: true\n};\nvar LOCALHOSTS = ['localhost', '127.0.0.1', '0.0.0.0'];\n\nvar isLocal = function isLocal(host) {\n  return LOCALHOSTS.indexOf(host) !== -1;\n}; // eslint-disable-next-line no-console\n\n\nvar createWarningPrinter = function createWarningPrinter(message) {\n  return once(function () {\n    return console.warn(message.join(' '));\n  });\n};\n\nvar printCdnWarning = createWarningPrinter(['You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and', \"cheaper. Think about it! For more info, see \".concat(generateHelpUrl('js-client-cdn-configuration'), \".\"), 'To hide this warning, please set the `useCdn` option to either `true` or `false` when creating', 'the client.']);\nvar printBrowserTokenWarning = createWarningPrinter(['You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.', \"See \".concat(generateHelpUrl('js-client-browser-token'), \" for more information and how to hide this warning.\")]);\nvar printCdnTokenWarning = createWarningPrinter(['You have set `useCdn` to `true` while also specifying a token. This is usually not what you', 'want. The CDN cannot be used with an authorization token, since private data cannot be cached.', \"See \".concat(generateHelpUrl('js-client-usecdn-token'), \" for more information.\")]);\nexports.defaultConfig = defaultConfig;\n\nexports.initConfig = function (config, prevConfig) {\n  var newConfig = assign({}, defaultConfig, prevConfig, config);\n  var gradientMode = newConfig.gradientMode;\n  var projectBased = !gradientMode && newConfig.useProjectHostname;\n\n  if (typeof Promise === 'undefined') {\n    var helpUrl = generateHelpUrl('js-client-promise-polyfill');\n    throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n  }\n\n  if (gradientMode && !newConfig.namespace) {\n    throw new Error('Configuration must contain `namespace` when running in gradient mode');\n  }\n\n  if (projectBased && !newConfig.projectId) {\n    throw new Error('Configuration must contain `projectId`');\n  }\n\n  var isBrowser = typeof window !== 'undefined' && window.location && window.location.hostname;\n  var isLocalhost = isBrowser && isLocal(window.location.hostname);\n\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    printBrowserTokenWarning();\n  } else if ((!isBrowser || isLocalhost) && newConfig.useCdn && newConfig.token) {\n    printCdnTokenWarning();\n  } else if (typeof newConfig.useCdn === 'undefined') {\n    printCdnWarning();\n  }\n\n  if (projectBased) {\n    validate.projectId(newConfig.projectId);\n  }\n\n  if (!gradientMode && newConfig.dataset) {\n    validate.dataset(newConfig.dataset, newConfig.gradientMode);\n  }\n\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n  newConfig.useCdn = Boolean(newConfig.useCdn) && !newConfig.token && !newConfig.withCredentials;\n\n  if (newConfig.gradientMode) {\n    newConfig.url = newConfig.apiHost;\n    newConfig.cdnUrl = newConfig.apiHost;\n  } else {\n    var hostParts = newConfig.apiHost.split('://', 2);\n    var protocol = hostParts[0];\n    var host = hostParts[1];\n    var cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n\n    if (newConfig.useProjectHostname) {\n      newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v1\");\n      newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v1\");\n    } else {\n      newConfig.url = \"\".concat(newConfig.apiHost, \"/v1\");\n      newConfig.cdnUrl = newConfig.url;\n    }\n  }\n\n  return newConfig;\n};"]},"metadata":{},"sourceType":"script"}